
name: $(SourceBranchName)
pool:
  vmImage: 'Ubuntu-16.04'

trigger:
- master
- develop


resources:    
  pipelines:
  - pipeline: RepoB   # Name of the pipeline resource
    source: RepoB # Name of the pipeline referenced by the pipeline resource
    trigger: 
      branches:
      - develop
      - staging
      - master
 
stages:
- stage: build
  displayName: build

  jobs:

  - job: triggering
    displayName: triggering
    steps:
    - bash: |
        echo "BuildId:" 
        echo "$(Build.TriggeredBy.BuildId)"
        echo "DefinitionName:"
        echo "$(Build.TriggeredBy.DefinitionName)"
        echo "DefinitionId:"
        echo "$(Build.TriggeredBy.DefinitionId)"
      name: echo
    - download: RepoB
      artifact: README
    - bash: |
        echo "Trigger from repo $(Build.Repository.Uri) on branch $(Build.SourceBranchName). \n Go to the Repos project: \n https://dev.azure.com/eleva-inc/ERR/_build?definitionId=186"
        cat README.md
      name: App 
      